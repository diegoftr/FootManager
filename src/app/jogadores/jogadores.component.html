<form id="form" [formGroup]="form">
    <div class="content2" role="main">
        <div class="voltar">
            <a (click)='acaoVoltar()'><svg height="34px" width="34px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" fill="#ffffff" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <polygon style="fill:#ff9911;" points="370.552,497.491 83.082,255.978 370.552,14.465 "></polygon> <path d="M376.935,1.354c-5.1-2.376-10.973-1.581-15.275,2.036L74.258,244.905c-3.272,2.747-5.126,6.801-5.126,11.073 s1.906,8.326,5.176,11.073l287.478,241.513c2.658,2.233,5.969,3.39,9.311,3.39c2.071,0,3.883-0.445,5.833-1.354 c5.095-2.375,8.082-7.488,8.082-13.109V14.465C385.015,8.842,382.031,3.729,376.935,1.354z M356.089,466.45L105.567,255.978 L356.089,45.505V466.45z"></path> <path d="M428.405,0.002c-7.987,0-14.463,6.477-14.463,14.463v483.072c0,7.987,6.477,14.463,14.463,14.463 s14.463-6.477,14.463-14.463V14.465C442.868,6.477,436.391,0.002,428.405,0.002z"></path> </g></svg></a>
            <span class="titulo" style="padding-bottom: 5px;">{{grupo != null ? grupo.nome : ''}}</span>
            <a style="width: 34px;"></a>
            <div style="width: 30px;position: absolute;text-align: right;left: 90%;top: 74px;" (click)="incluirNovoJogador()" >
                <svg height="30px" width="30px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 42 42" xml:space="preserve" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path style="fill:#ff9911;" d="M37.059,16H26V4.941C26,2.224,23.718,0,21,0s-5,2.224-5,4.941V16H4.941C2.224,16,0,18.282,0,21 s2.224,5,4.941,5H16v11.059C16,39.776,18.282,42,21,42s5-2.224,5-4.941V26h11.059C39.776,26,42,23.718,42,21S39.776,16,37.059,16z"></path> </g></svg>
            </div>
        </div>

        <br>
        <span class="titulo" style="color: white;">JOGADORES</span>
        <br>
        <input *ngIf="!isInclusao && !isAlteracao" type="text" id="campoFiltro" class="campoFiltro" onkeyup="filtrar()" placeholder="Pesquisar..">
        <br>

        <div *ngIf="!isInclusao && !isAlteracao" id="tabela" class="tabela" style="height: 100%; width: 280px;">
            <div *ngFor="let jogador of jogadores; let i = index" style="height: 400px; width: 80%;">
                <div style="position: relative; width: 280px;  left: -10px "><img style="width: 280px;" src="assets/escudos/{{jogador.escudo}}.png"/></div>
                <div style="position: relative;left: 40%;bottom: 357px;"><img src="{{jogador.foto}}" style="width: 153px" /></div>
                <div class="nome" style="font-size: 24px;color: black;position: relative;top: -360px;left: 17%;font-family: ea;width: 100%;text-align: center;">{{jogador.nome}}</div>
                <div style="position: relative;left: -20%;bottom: 120%;text-align: center;"><img style="max-height: 70px;" src="assets/times/{{jogador.time}}.png" /></div>
                <div style="font-size: 24px;color: black;position: relative;top: -148%;left: -20%;font-family: ea;text-align: center;">{{jogador.posicao}}</div>
                <div style="font-size: 14px;color: black;position: relative;top: -113%;left: 20%;font-family: ea;text-align: left;">Idade: {{calcularIdade(jogador.aniversario!)}}</div>
                <div style="font-size: 14px;color: black;position: relative;top: -113%;left: 20%;font-family: ea;text-align: left;">Aniver: {{formatarDataAniversario(jogador.aniversario!)}}</div>
                <div style="font-size: 14px;color: black;position: relative;top: -113%;left: 20%;font-family: ea;text-align: left;">Gols: 0</div>
                <div style="font-size: 14px;color: black;position: relative;top: -113%;left: 20%;font-family: ea;text-align: left;">Assis: 0</div>
                <a style="display: none; position: relative;top: -125%;left: 90%;"><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 58.985 58.985" xml:space="preserve" width="34px" height="34px" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <polygon style="fill:#E0A370;" points="1,57.985 13.728,53.743 5.243,45.257 "></polygon> <path style="fill:#CC4B4C;" d="M57.228,1.757c-2.343-2.343-6.142-2.343-8.485,0l-2.121,2.121l8.485,8.485l2.121-2.121 C59.571,7.899,59.571,4.1,57.228,1.757z"></path> <rect x="22.76" y="2.966" transform="matrix(-0.7071 -0.7071 0.7071 -0.7071 27.7247 71.9338)" style="fill:#E39700;" width="12" height="54.518"></rect> <rect x="1.512" y="28.25" transform="matrix(-0.7071 0.7071 -0.7071 -0.7071 70.445 31.3207)" style="fill:#FFCB43;" width="54.447" height="4"></rect> <polygon style="fill:#959595;" points="52.278,15.192 52.278,15.192 55.107,12.364 55.107,12.364 54.4,13.071 "></polygon> <polygon style="fill:#F2ECBF;" points="45.914,4.586 43.793,6.707 52.278,15.192 54.4,13.071 55.107,12.364 46.621,3.879 "></polygon> <path style="fill:#949493;" d="M1,58.985c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l0.985-0.985 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-0.985,0.985C1.512,58.888,1.256,58.985,1,58.985z"></path> </g> </g></svg></a>
                <a style="display: none; position: relative;top: -187%;left: 88%;"><svg width="34px" height="34px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <defs> <style>.cls-1{fill:#b24040;}.cls-2{fill:#ce5959;}.cls-3{fill:#6c2e7c;}</style> </defs> <g id="Icons"> <path class="cls-1" d="M23,12A11,11,0,0,1,1,12a10.827,10.827,0,0,1,.29-2.5,11,11,0,0,1,21.42,0A10.827,10.827,0,0,1,23,12Z"></path> <ellipse class="cls-2" cx="12" cy="9.5" rx="10.71" ry="8.5"></ellipse> </g> <g data-name="Layer 4" id="Layer_4"> <path class="cls-3" d="M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm0,22A10,10,0,1,1,22,12,10.011,10.011,0,0,1,12,22Z"></path> <path class="cls-3" d="M16.707,7.293a1,1,0,0,0-1.414,0L12,10.586,8.707,7.293A1,1,0,1,0,7.293,8.707L10.586,12,7.293,15.293a1,1,0,1,0,1.414,1.414L12,13.414l3.293,3.293a1,1,0,0,0,1.414-1.414L13.414,12l3.293-3.293A1,1,0,0,0,16.707,7.293Z"></path> </g> </g></svg></a>
            </div>
        </div>
        
        <div *ngIf="isInclusao !! isAlteracao" class="tabela" style="height: 100%;">
            <mat-form-field style="width: 100%;">
                <mat-label><span>Nome</span></mat-label>
                <input matInput type="string" maxlength="150" formControlName="nome">
            </mat-form-field>

            <div class="example-container">
                <mat-form-field style="width: 100%;">
                    <mat-label>Digite o email</mat-label>
                    <input matInput placeholder="pat@example.com" formControlName="email" required>
                    <mat-error *ngIf="this.form.get('email')?.invalid">E-mail inválido</mat-error>
                </mat-form-field>
                </div>

            <mat-form-field style="width: 100%;">
                <mat-label><span>Celular</span></mat-label>
                <input matInput type="tel" placeholder="61999999999"  maxlength="11" formControlName="telefone">
            </mat-form-field>

            <mat-form-field style="width: 100%;" >
                <mat-label>Time do Coração</mat-label>
                <mat-select formControlName="time">
                    <mat-option *ngFor="let time of times" [value]="time.nome">
                        {{time.nome}}
                    </mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field style="width: 100%;">
                <mat-label>Data de Nascimento</mat-label>
                <input matInput [matDatepicker]="picker" formControlName="aniversario">
                <mat-datepicker-toggle matIconSuffix [for]="picker" ></mat-datepicker-toggle>
                <mat-datepicker #picker ></mat-datepicker>
            </mat-form-field>
            
            <mat-form-field style="width: 100%;">
                <mat-label>Escudos</mat-label>
                <mat-select formControlName="escudo">
                    <mat-option *ngFor="let escudo of escudos" [value]="escudo.nome">
                        {{escudo.nome}}
                    </mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field style="width: 100%;">
                <mat-label>Posição</mat-label>
                <mat-select formControlName="posicao">
                    <mat-option *ngFor="let posicao of posicoes" [value]="posicao.nome">
                        {{posicao.nome}}
                    </mat-option>
                </mat-select>
            </mat-form-field>

            
            <div style="text-align: center;">
                <label class="cameraButton">
                    <svg width="64px" height="64px" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M226.2 227.3h-77.8c-8.8 0-16-7.2-16-16v-26.6c0-8.8 7.2-16 16-16h77.8c8.8 0 16 7.2 16 16v26.6c-0.1 8.9-7.2 16-16 16z" fill="#ff9911"></path><path d="M911.1 855.2H113.5c-27.2 0-49.4-22.2-49.4-49.4V252c0-27.2 22.2-49.4 49.4-49.4h797.6c27.2 0 49.4 22.2 49.4 49.4v553.8c0 27.2-22.3 49.4-49.4 49.4z" fill="#E8E8E8"></path><path d="M64.1 528.9v276.9c0 27.2 22.2 49.4 49.4 49.4h797.6c27.2 0 49.4-22.2 49.4-49.4V528.9H64.1z" fill="#ff9911"></path><path d="M512.3 516.1m-171.8 0a171.8 171.8 0 1 0 343.6 0 171.8 171.8 0 1 0-343.6 0Z" fill="#E8E8E8"></path><path d="M512.3 707.2c-105.4 0-191.1-85.7-191.1-191.1S406.9 325 512.3 325s191.1 85.7 191.1 191.1-85.7 191.1-191.1 191.1z m0-343.6c-84.1 0-152.5 68.4-152.5 152.5s68.4 152.5 152.5 152.5 152.5-68.4 152.5-152.5-68.4-152.5-152.5-152.5z" fill="#F9C625"></path><path d="M512.3 516.1m-106.1 0a106.1 106.1 0 1 0 212.2 0 106.1 106.1 0 1 0-212.2 0Z" fill="#ff9911"></path><path d="M854.4 318.7c-19.1 0-34.7-15.6-34.7-34.7s15.6-34.7 34.7-34.7 34.7 15.6 34.7 34.7-15.6 34.7-34.7 34.7z" fill="#ff9911"></path><path d="M551.8 472.7m-28.4 0a28.4 28.4 0 1 0 56.8 0 28.4 28.4 0 1 0-56.8 0Z" fill="#FFFFFF"></path></g></svg>
                    <input type="file" accept="image/*;capture=camera" (change)="capturarFotoSelfie($event)">
                </label>
            </div>

            <input type="hidden" id="fotoSelfie" #fotoSelfie value="">

              <image-cropper *ngIf="isSelfie()"
                [imageChangedEvent]="imageChangedEvent"
                [maintainAspectRatio]="true"
                [aspectRatio]="24 / 26"
                format="png"
                (imageCropped)="imageCropped($event)"
                (imageLoaded)="imageLoaded($event)"
                (cropperReady)="cropperReady()"
                (loadImageFailed)="loadImageFailed()"
            ></image-cropper>

            <img *ngIf="isSelfie()" id="selfie" src="{{croppedImage}}" style="width: 100%; height: 50%;">

            <br>
            <br>
            <div style="text-align: center;">
                <button mat-raised-button class="botao" (click)="salvarJogador()">SALVAR</button>
            </div>


        </div>
    
    </div>

</form>